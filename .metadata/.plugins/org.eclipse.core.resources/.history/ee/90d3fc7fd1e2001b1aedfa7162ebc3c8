package com.spring.professional.exam.tutorial.module01.question01.manual.dependency.injection;

import java.util.List;

import com.spring.professional.exam.tutorial.module01.question01.commons.bls.EmployeeSalaryCalculator;
import com.spring.professional.exam.tutorial.module01.question01.commons.dao.EmployeeDao;
import com.spring.professional.exam.tutorial.module01.question01.commons.ds.Employee;
import com.spring.professional.exam.tutorial.module01.question01.commons.ds.EmployeeSalary;
import com.spring.professional.exam.tutorial.module01.question01.commons.report.PdfSalaryReport;
import com.spring.professional.exam.tutorial.module01.question01.commons.report.SalaryReport;

public class EmployeeSalariesReportService {
	
	private final EmployeeDao employeeDao;
	private final EmployeeSalaryCalculator employeeSalaryCalculator;
	private final SalaryReport salaryReport;
	
	
	public EmployeeSalariesReportService(EmployeeDao employeeDao,EmployeeSalaryCalculator employeeSalaryCalculator,SalaryReport salaryReport) {
		this.employeeDao = employeeDao;
		this.employeeSalaryCalculator = employeeSalaryCalculator;
		this.salaryReport = salaryReport;
		
	}
	
	public void generateReport() {
		//EmployeeDao employeeDao = new EmployeeDao();
		List<Employee> employees = employeeDao.findAll();
		
		//EmployeeSalaryCalculator employeeSalaryCalculator = new EmployeeSalaryCalculator();
		List<EmployeeSalary> employeeSalaries = employeeSalaryCalculator.calculateSalaries(employees);
		
		/*PdfSalaryReport pdfSalaryReport = new PdfSalaryReport();
		pdfSalaryReport.writeReport(employeeSalaries); */
		
		this.salaryReport.writeReport(employeeSalaries);
	}

}
